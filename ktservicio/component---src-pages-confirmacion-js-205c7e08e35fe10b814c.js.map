{"version":3,"file":"component---src-pages-confirmacion-js-205c7e08e35fe10b814c.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/confirmacion.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { Col, Row, Container, Button } from \"react-bootstrap\";\nimport { navigate } from \"gatsby\";\n\nimport Layout from \"../components/layout.js\";\nimport Seo from \"../components/seo\";\nimport Keyboards from \"../components/Keyboards.js\";\nimport \"../components/pages-css/sCita.css\";\nimport VideoSeccion from \"../components/videoSeccion.js\";\nimport ModalEmergente from \"../components/ModalEmergente.js\";\nimport Timer from \"../components/timer.js\";\nimport api from \"../components/actions/riveroapi\";\n\nexport default function Confirmacion() {\n  const [show, setShow] = useState(false);\n  const [modal, setModal] = useState(false);\n  const [error, setError] = useState(0);\n  const [errorInput, setErrorInput] = useState(false);\n  const [click, setClick] = useState(false);\n  const [mensajeModal, setMensajeModal] = useState(\"\");\n\n  const [optionsKeyboard, setOptionsKeyboard] = useState({\n    inpName: \"\",\n    layoName: \"phone\",\n    name: \"\",\n    value: {}\n  })\n\n  const refForm = useRef();\n\n  function reenviarCodigo(){\n    var datosJ = JSON.parse(localStorage.getItem(\"informacion\"));\n    //console.log(\"datosJ: \", datosJ);\n\n    const params = {\n      envio: \"envio codigo\",\n      contacto: datosJ.contactoCliente.email,\n      medio: \"correo\"\n    }\n    //console.log(\"params: \", params);\n    api.CodigosVerficiacion(params).then((respCo) => {}).catch((error) => console.log(\"Error, \", error))\n  }\n\n  function continuar(){\n    //console.log(\"Me han pulsado jjii\");\n    if(optionsKeyboard.value.Codigo === undefined || optionsKeyboard.value.Codigo === \"\"){\n        //console.log(\"Ah pulsado en continuar está vacio!!!\", optionsKeyboard.value.Codigo);\n        setError(0);\n        setModal(true);\n        setErrorInput(true);\n    } else {\n        //console.log(\"Ah pulsado en continuar tengo algo\");\n\n        var datosJ = JSON.parse(localStorage.getItem(\"informacion\"));\n\n        const params = {\n          envio: \"valida codigo\",\n          codigo: optionsKeyboard.value.Codigo,\n          correo: datosJ.contactoCliente.email\n        }\n    \n        api.CodigosVerficiacion(params).then((respCo) => {\n          //console.log(\"La respuesta: \", respCo)\n\n          if(respCo.result === \"Código Incorrecto\"){\n            setError(14);\n            setModal(true);\n            setErrorInput(true);\n            setMensajeModal(\n              <center>\n                <div>❌ Codigo incorrecto, hubo un error en tu código de confirmación.</div>\n              </center>\n            )\n          } else {\n            //console.log(\"El codigo esta correcto\");\n            navigate(\"/datos-facturacion\")\n          }\n\n        }).catch((error) => console.log(\"Error, \", error))    \n\n        \n    }\n  }\n\n  return (\n    <Layout backUrl={\"/datos-actuales\"}>\n      <Seo title=\"Auto servicio\" />\n        <Container className=\"container-sin-cita\" onClick={() => {setClick(true)}}>\n       {/* <Timer click={click} setClick={setClick} setError={setError} setModal={setModal}/>*/}\n            <Row className=\"row-cita-arriba\">\n                <div className=\"container-cita\">\n                  <Row>\n                    <Col className=\"titulo-cita\"><h1 className=\"titulo-h1\">Confirmación de Cliente</h1></Col>\n                  </Row>\n                  <Row>\n                    <Col className=\"titulo-cita\"><p className=\"texto-gris\">Te acabamos de enviar tu código de verificación.</p></Col>\n                  </Row>\n                  <Row className=\"row-cita-abajo\" style={{marginBottom: 0}}>\n                      <Col lg={6}>\n                            <input\n                                autoComplete=\"off\"\n                                type=\"text\"\n                                id={errorInput === true ? \"inputContactoError\" : \"inputContacto\"}\n                                className=\"form-control\"\n                                placeholder=\"Ingresar el código de verificación\"\n                                onClick={() => setShow(true)}\n                                onFocus={() => setOptionsKeyboard({...optionsKeyboard, inpName: \"Codigo\"})}\n                                value={optionsKeyboard.value.Codigo || \"\"}\n                            />\n                      </Col>\n                  </Row>\n                  <Row>\n                    <Col className=\"titulo-cita\"><p className=\"texto-gris\">¿Aún no lo tienes?, vuelve a recibir el código de verificación aquí: <u><a onClick={() => reenviarCodigo()}>reenviar</a></u></p></Col>\n                  </Row>\n                  <Button ref={refForm} onClick={() => continuar()} style={{display: 'none'}}></Button>\n                  {show === true ? \n                      <center className=\"pt-5\">\n                        <Keyboards options={optionsKeyboard} setOptionsKeyboard={setOptionsKeyboard} optionsKeyboard={optionsKeyboard}/>\n                      </center>\n                  : null }\n                </div>\n            </Row>\n            <Row className=\"row-cita-abajo\">\n              <VideoSeccion refForm={refForm} none=\"tiene\"/>\n            </Row>\n        </Container>\n        <ModalEmergente modal={modal} setModal={setModal} error={error} setClick={setClick} mensajeModal={mensajeModal}/>\n    </Layout>\n  )\n}\n"],"names":["Confirmacion","useState","show","setShow","modal","setModal","error","setError","errorInput","setErrorInput","setClick","mensajeModal","setMensajeModal","inpName","layoName","name","value","optionsKeyboard","setOptionsKeyboard","refForm","useRef","backUrl","title","className","onClick","style","marginBottom","lg","autoComplete","type","id","placeholder","onFocus","Codigo","params","envio","contacto","JSON","parse","localStorage","getItem","contactoCliente","email","medio","api","then","respCo","catch","console","log","ref","undefined","datosJ","codigo","correo","result","navigate","continuar","display","options","none"],"sourceRoot":""}