(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[933],{5058:function(e,t,a){var n=a(4687),o=a(7156),r=a(9728),l=function(){"use strict";function e(){}var t=e.prototype;return t.ValidadorWhatsApp=function(){var e=o(n.mark((function e(t){var a,o,r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,o=!1,void 0===t||""===t?(a=0,o=!0):10===t.length?(a=5,o=!1):(a=2,o=!0),r={data:a,boolean:o},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ValidadorCorreo=function(){var e=o(n.mark((function e(t){var a,o,r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,o=!1,void 0===t||""===t?(a=0,o=!0):!0===/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(t)?(a=5,o=!1):(a=1,o=!0),r={data:a,boolean:o},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ValidadorVIN=function(){var e=o(n.mark((function e(t){var a,o,r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,o=!1,console.log("Entra validador"),void 0===t||""===t?(a=0,o=!0):8===t.length?(a=5,o=!1):(a=3,o=!0),r={data:a,boolean:o},e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ValidadorRFC=function(){var e=o(n.mark((function e(t,a){var o,r,l,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=0,r=!1,l=!1,"Selecciona"===a?(o=8,l=!0):"Física"===a?(l=!1,""===t||void 0===t?(console.log("llega aquí vacio"),o=0,r=!0):(console.log("llega aquí tiene valores"),13===t.length?(o=5,r=!1):(o=9,r=!0))):"Moral"===a&&(l=!1,""===t||void 0===t?(o=0,r=!0):12===t.length?(o=5,r=!1):(o=9,r=!0)),i={data:o,booleanRFC:r,booleanRegimen:l},e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),t.ValidadorGenero=function(){var e=o(n.mark((function e(t){var a,o,r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,o=!1,"Selecciona"===t?(a=8,o=!0):(a=5,o=!1),r={data:a,boolean:o},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ValidadorNombre=function(){var e=o(n.mark((function e(t){var a,o,r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,o=!1,""===t||void 0===t?(a=0,o=!0):(a=5,o=!1),r={data:a,boolean:o},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ValidadorCamposFacturacion=function(){var e=o(n.mark((function e(t){var a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,a=""===t.Calle||""===t.Celular||""===t.Colonia||""===t.Correo||""===t.Nombre||""===t.RFC||""===t.Telefono||""===t.CodigoP?0:5,e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ValidadorCamposNuevoUsuario=function(){var e=o(n.mark((function e(t){var a,o,r,l,i,c,u,s,m,d,p;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=5,e.next=3,this.ValidadorNombre(t.Nombre);case 3:return o=e.sent,e.next=6,this.ValidadorCorreo(t.Correo);case 6:return r=e.sent,e.next=9,this.ValidadorWhatsApp(t.Celular);case 9:return l=e.sent,e.next=12,this.ValidadorRFC(t.RFC,t.Regimen);case 12:return i=e.sent,e.next=15,this.ValidadorGenero(t.Genero);case 15:return c=e.sent,e.next=18,this.ValidadorNombre(t.Calle);case 18:return u=e.sent,e.next=21,this.ValidadorNombre(t.Numero);case 21:return s=e.sent,e.next=24,this.ValidadorNombre(t.Colonia);case 24:return m=e.sent,e.next=27,this.ValidadorNombre(t.CPostal);case 27:return d=e.sent,0===o.data||0===r.data||0===l.data||0===i.data||0===u.data||0===s.data||0===m.data||0===d.data?a=0:1===r.data?a=r.data:2===l.data?a=l.data:8===i.data||9===i.data?a=i.data:8===c.data&&(a=c.data),p={error:a,nombre:o,correo:r,celular:l,rfc:i,genero:c,calle:u,numero:s,colonia:m,cpostal:d},e.abrupt("return",p);case 31:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.ValidadorCamposDatosAutos=function(){var e=o(n.mark((function e(t){var a,o,r,l,i,c,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,e.next=3,this.ValidadorNombre(t.Color);case 3:return o=e.sent,e.next=6,this.ValidadorNombre(t.Anio);case 6:return r=e.sent,e.next=9,this.ValidadorNombre(t.VINDatos);case 9:return l=e.sent,e.next=12,this.ValidadorNombre(t.Placas);case 12:return i=e.sent,e.next=15,this.ValidadorNombre(t.Kilometraje);case 15:return c=e.sent,a=0===o.data||0===r.data||0===l.data||0===i.data||0===c.data?0:5,u={error:a,color:o,anio:r,vin:l,placas:i,kilometraje:c},e.abrupt("return",u);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r(e,null,[{key:"instance",get:function(){return null===e._val&&(e._val=new e),e._val}}]),e}();l._val=null,e.exports=l.instance},4981:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var n=a(7294),o=a(3639),r=a(994),l=a(7408),i=a(2082),c=a(3134),u=a(1082),s=a(7655),m=a(9357),d=a(3635),p=a(9034),f=a(5936),C=a(5058),v=a.n(C),g=a(2449),N=a.n(g);a(7580);function E(){var e=(0,n.useState)(!1),t=e[0],a=e[1],C=(0,n.useState)(!1),g=C[0],E=C[1],b=(0,n.useState)(0),h=b[0],y=b[1],Z=(0,n.useState)(!1),x=Z[0],w=(Z[1],(0,n.useState)(!1)),F=(w[0],w[1]),k=(0,n.useState)(""),j=k[0],V=k[1],O=(0,n.useState)({estado:"",municipio:""}),S=O[0],P=O[1],R=(0,n.useState)({estados:{},ciudades:{}}),T=R[0],D=R[1],z=(0,n.useState)({inpName:"",layoName:"default",name:"",value:{Nombre:"",RFC:"",Correo:"",Celular:"",Telefono:"",Calle:"",Numero:"",Colonia:"",CodigoP:""}}),A=z[0],M=z[1],_=(0,n.useRef)();function B(e){var t,a=((null===(t=e.ParamEstado)||void 0===t?void 0:t.normalize("NFD").replace(/[^a-zA-Z0-9 ]/g,""))||"nuevo leon").toLowerCase(),n=e.ParamMuni.normalize("NFD").replace(/[^a-zA-Z0-9 ]/g,"").toLowerCase();N().getMunicipios(a).then((function(e){var t=e.estados.map((function(e){var t=e.toLowerCase();if((null==t?void 0:t.normalize("NFD").replace(/[^a-zA-Z0-9 ]/g,""))===a)return e})).filter((function(e){return void 0!==e})),o=e.ciudades.map((function(e){var t=e.toLowerCase();if((null==t?void 0:t.normalize("NFD").replace(/[^a-zA-Z0-9 ]/g,""))===n)return e})).filter((function(e){return void 0!==e}));P(Object.assign({},S,{estado:t[0],municipio:o[0]})),D(Object.assign({},T,{estados:e.estados,ciudades:e.ciudades}))}))}return(0,n.useEffect)((function(){if("undefined"!=typeof window){var e=JSON.parse(localStorage.getItem("informacion"));B({ParamEstado:e.direccionCliente.state,ParamMuni:e.direccionCliente.city});var t=e.direccionCliente.street.split(/[","]+/)[0].replace(/[0-9]/g,""),a=e.datosCliente.fullName.replace(/,/g," ");M(Object.assign({},A,{value:{Nombre:a,RFC:e.datosCliente.rfc,Correo:e.contactoCliente.email,Celular:e.contactoCliente.mobile,Telefono:e.contactoCliente.phone,Calle:t,Numero:e.direccionCliente.number,Colonia:e.direccionCliente.street2,CodigoP:e.direccionCliente.postalCode}}))}}),[]),n.createElement(s.Z,{backUrl:"/datos-actuales"},n.createElement(m.Z,{title:"Auto servicio"}),n.createElement(o.Z,{className:"container-sin-cita",onClick:function(){F(!0)}},n.createElement(r.Z,{className:"row-cita-arriba"},n.createElement("div",{className:"container-cita"},n.createElement(r.Z,null,n.createElement(l.Z,{className:"titulo-cita"},n.createElement("h1",{className:"titulo-h1",style:{marginTop:"0.8rem",marginBottom:0}},"Datos de Facturación"))),n.createElement(r.Z,null,n.createElement(l.Z,{className:"titulo-cita"},n.createElement("p",{className:"texto-gris",style:{marginBottom:0,marginTop:0}},"Puedes editar tus datos actuales o simplemente omitir este paso."))),n.createElement(r.Z,{className:"titulo-cita"},n.createElement("h3",{className:"titulo-h1",style:{marginTop:"0.5rem",marginBottom:"0.5rem"}},"Cliente"),n.createElement(o.Z,null,n.createElement(r.Z,null,n.createElement(l.Z,{lg:3},"Nombre completo:",n.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){a(!0),M(Object.assign({},A,{layoName:"default"}))},onFocus:function(){return M(Object.assign({},A,{inpName:"Nombre"}))},value:A.value.Nombre||""})),n.createElement(l.Z,{lg:2},"RFC:",n.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){a(!0),M(Object.assign({},A,{layoName:"vin"}))},onFocus:function(){return M(Object.assign({},A,{inpName:"RFC"}))},value:A.value.RFC||""})),n.createElement(l.Z,{lg:3},"Correo electrónico:",n.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){a(!0),M(Object.assign({},A,{layoName:"default"}))},onFocus:function(){return M(Object.assign({},A,{inpName:"Correo"}))},value:A.value.Correo||""})),n.createElement(l.Z,{lg:2},"Celular:",n.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){a(!0),M(Object.assign({},A,{layoName:"phone"}))},onFocus:function(){return M(Object.assign({},A,{inpName:"Celular"}))},value:A.value.Celular||""})),n.createElement(l.Z,{lg:2},"Teléfono:",n.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){a(!0),M(Object.assign({},A,{layoName:"phone"}))},onFocus:function(){return M(Object.assign({},A,{inpName:"Telefono"}))},value:A.value.Telefono||""}))))),n.createElement(r.Z,{className:"titulo-cita"},n.createElement("h3",{className:"titulo-h1",style:{marginTop:"0.5rem",marginBottom:"0.5rem"}},"Domicilio"),n.createElement(o.Z,null,n.createElement(r.Z,null,n.createElement(l.Z,{lg:2},"Calle:",n.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){a(!0),M(Object.assign({},A,{layoName:"default"}))},onFocus:function(){return M(Object.assign({},A,{inpName:"Calle"}))},value:A.value.Calle||""})),n.createElement(l.Z,{lg:2},"Número:",n.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){a(!0),M(Object.assign({},A,{layoName:"phone"}))},onFocus:function(){return M(Object.assign({},A,{inpName:"Numero"}))},value:A.value.Numero||""})),n.createElement(l.Z,{lg:2},"Colonia:",n.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){a(!0),M(Object.assign({},A,{layoName:"default"}))},onFocus:function(){return M(Object.assign({},A,{inpName:"Colonia"}))},value:A.value.Colonia||""})),n.createElement(l.Z,{lg:2},n.createElement("div",{style:{paddingBottom:10}},"Estado: "),n.createElement(i.Z.Select,{"aria-label":"Default select example",id:"inputContacto",className:"form-control",onChange:function(e){B({ParamEstado:e.target.value,ParamMuni:""})},value:S.estado},n.createElement("option",{value:"Selecciona"},"Seleccionar"),T&&T.estados&&T.estados.length>0?T.estados.map((function(e,t){return n.createElement(n.Fragment,null,n.createElement("option",{value:e},e))})):null)),n.createElement(l.Z,{lg:2},n.createElement("div",{style:{paddingBottom:10}},"Municipio: "),n.createElement(i.Z.Select,{"aria-label":"Default select example",id:"inputContacto",className:"form-control",onChange:function(e){P(Object.assign({},S,{municipio:e.target.value}))},value:S.municipio},n.createElement("option",{value:"Selecciona"},"Seleccionar"),T&&T.ciudades&&T.ciudades.length>0?T.ciudades.map((function(e,t){return n.createElement(n.Fragment,null,n.createElement("option",{value:e},e))})):null)),n.createElement(l.Z,{lg:2},"Código postal:",n.createElement("input",{autoComplete:"off",type:"text",id:!0===x?"inputContactoError":"inputContacto",className:"form-control",onClick:function(){a(!0),M(Object.assign({},A,{layoName:"phone"}))},onFocus:function(){return M(Object.assign({},A,{inpName:"CodigoP"}))},value:A.value.CodigoP||""}))))),n.createElement(r.Z,{className:"titulo-cita p-3"},n.createElement(c.Z,{onClick:function(){var e;e={Nombre:A.value.Nombre,RFC:A.value.RFC,Correo:A.value.Correo,Celular:A.value.Celular,Telefono:A.value.Telefono,Calle:A.value.Calle,Numero:A.value.Numero,Colonia:A.value.Colonia,CodigoP:A.value.CodigoP,Estado:S.estado,Municipio:S.municipio},v().ValidadorCamposFacturacion(e).then((function(t){5===t?N().getEditarDatos(e).then((function(e){E(!0),y(14),V(n.createElement("center",null,n.createElement("div",null,"✅ Los cambios se han guardado correctamente")))})).catch((function(e){console.log(e),E(!0),y(7)})):(E(!0),y(t))}))},className:"btn-celeste-guardar"},"Guardar")),n.createElement(c.Z,{ref:_,onClick:function(){(0,u.navigate)("/servicio-a-realizar")},style:{display:"none"}}),!0===t?n.createElement("center",{className:"pt-2"},n.createElement(d.Z,{options:A,setOptionsKeyboard:M,optionsKeyboard:A})):null)),n.createElement(r.Z,{className:"row-cita-abajo"},n.createElement(p.Z,{refForm:_,none:"tiene"}))),n.createElement(f.Z,{modal:g,setModal:E,error:h,setClick:F,mensajeModal:j}))}}}]);
//# sourceMappingURL=component---src-pages-datos-facturacion-js-4351f6f0859ef1c25d0e.js.map