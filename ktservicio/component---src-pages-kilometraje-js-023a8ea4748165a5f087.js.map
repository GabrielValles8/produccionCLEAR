{"version":3,"file":"component---src-pages-kilometraje-js-023a8ea4748165a5f087.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/kilometraje.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { Col, Row, Container, Button } from \"react-bootstrap\";\nimport { navigate } from \"gatsby\";\n\nimport Layout from \"../components/layout.js\";\nimport Seo from \"../components/seo\";\nimport Keyboards from \"../components/Keyboards.js\";\nimport \"../components/pages-css/sCita.css\";\nimport VideoSeccion from \"../components/videoSeccion.js\";\nimport ModalEmergente from \"../components/ModalEmergente.js\";\nimport Timer from \"../components/timer.js\";\n\nexport default function Kilometraje(props) {\n\n  const [kilometraje, setKilometraje] = useState({\n    KM: \"\",\n    textoKM: \"\"\n  });\n\n  const [show, setShow] = useState(false);\n  const [modal, setModal] = useState(false);\n  const [error, setError] = useState(0);\n  const [errorInput, setErrorInput] = useState(false);\n  const [click, setClick] = useState(false);\n  const [mensajeModal, setMensajeModal] = useState(\"\");\n\n  const refForm = useRef();\n\n  const [optionsKeyboard, setOptionsKeyboard] = useState({\n    inpName: \"\",\n    layoName: \"phone\",\n    name: \"\",\n    value: {\n      Kilo: undefined\n    }\n  })\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n        //console.log('we are running on the client');\n        setOptionsKeyboard({\n          ...optionsKeyboard,\n          value: {\n            Kilo: localStorage.getItem('Kilo') || \"\",\n          }\n        })\n        var Kilometros = JSON.parse(localStorage.getItem(\"informacion\"));\n        //console.log(\"Tengo informacion: \", Kilometros);\n\n        if(localStorage.getItem(\"RutaNavegacion\") === \"sin-cita\" || \"\"){\n          setKilometraje({\n            ...kilometraje,\n            KM: Kilometros.data.km,\n            textoKM: `Kilometraje registrado ${Kilometros.data.km}`\n          });\n        } else {\n          setKilometraje({\n            ...kilometraje,\n            KM: Kilometros[0].car.km,\n            textoKM: `Kilometraje registrado ${Kilometros[0].car.km}`\n          });\n        }\n    } else {\n        //console.log('we are running on the server');\n    }\n  }, [])\n\n  function continuar (){\n    if(optionsKeyboard.value.Kilo === undefined || optionsKeyboard.value.Kilo === \"\"){\n        setError(0);\n        setModal(true);\n        setErrorInput(true);\n    } else {\n      if(optionsKeyboard.value.Kilo >= kilometraje.KM){\n        localStorage.setItem('Kilo', optionsKeyboard.value.Kilo);\n        //console.log(\"Es mayor al kilometraje registrado\");\n        if(localStorage.getItem(\"RutaNavegacion\") === \"sin-cita\" || \"\"){\n          navigate(\"/datos-actuales\");\n        } else {\n          navigate(\"/servicio-a-realizar\");\n        }\n      } else {\n        //console.log(\"Es menor al kilometraje registrado\");\n        setModal(true)\n        setError(14);\n        setErrorInput(true);\n        setMensajeModal(\n          <center>\n            <div>Recuerda que el campo de km debe ser mayor a {kilometraje.KM} km.</div>\n          </center>\n        );\n      }\n    }\n  }\n\n  return (\n    <Layout backUrl={\"/sin-cita\"}>\n      <Seo title=\"Auto servicio\" />\n        <Container className=\"container-sin-cita\" onClick={() => {setClick(true)}}>\n        {/*<Timer click={click} setClick={setClick} setError={setError} setModal={setModal}/>*/}\n            <Row className=\"row-cita-arriba\">\n                <div className=\"container-cita\">\n\n                  <Row>\n                    <Col className=\"titulo-cita\"><h1 className=\"titulo-h1\">Ingresa tu Kilometraje actual</h1></Col>\n                  </Row>\n                  <Row className=\"row-cita-abajo\" style={{marginBottom: 0}}>\n                      <Col lg={9}>\n                            <input\n                                disabled\n                                autoComplete=\"off\"\n                                type=\"text\"\n                                id=\"inputContacto\"\n                                className=\"form-control\"\n                                placeholder={kilometraje.textoKM}\n                            />\n                    \n                      </Col>\n                  </Row>\n                  <Row className=\"row-cita-abajo\" style={{marginBottom: 0}}>\n                      <Col lg={9}>\n                            <input\n                                autoComplete=\"off\"\n                                type=\"text\"\n                                id={errorInput === true ? \"inputContactoError\" : \"inputContacto\"}\n                                className=\"form-control\"\n                                placeholder=\"Kilometraje actual (ejemplo: 12500)\"\n                                onClick={() => setShow(true)}\n                                onFocus={() => setOptionsKeyboard({...optionsKeyboard, inpName: \"Kilo\"})}\n                                value={optionsKeyboard.value.Kilo || \"\"}\n                            />\n                            <p className=\"texto-gris\">-Debe ser mayor a tu kilometraje registrado</p>\n                      </Col>\n                  </Row>\n                  <Button ref={refForm} onClick={() => continuar()} style={{display: 'none'}}></Button>\n                  {show === true ? \n                      <center className=\"pt-5\">\n                        <Keyboards options={optionsKeyboard} setOptionsKeyboard={setOptionsKeyboard} optionsKeyboard={optionsKeyboard}/>\n                      </center>\n                  : null }\n                </div>\n            </Row>\n            <Row className=\"row-cita-abajo\">\n              <VideoSeccion refForm={refForm} none=\"tiene\"/>\n            </Row>\n        </Container>\n        <ModalEmergente modal={modal} setModal={setModal} error={error} setClick={setClick} mensajeModal={mensajeModal}/>\n    </Layout>\n  )\n}\n"],"names":["Kilometraje","props","useState","KM","textoKM","kilometraje","setKilometraje","show","setShow","modal","setModal","error","setError","errorInput","setErrorInput","setClick","mensajeModal","setMensajeModal","refForm","useRef","inpName","layoName","name","value","Kilo","undefined","optionsKeyboard","setOptionsKeyboard","useEffect","window","localStorage","getItem","Kilometros","JSON","parse","data","km","car","backUrl","title","className","onClick","style","marginBottom","lg","disabled","autoComplete","type","id","placeholder","onFocus","ref","setItem","navigate","display","options","none"],"sourceRoot":""}