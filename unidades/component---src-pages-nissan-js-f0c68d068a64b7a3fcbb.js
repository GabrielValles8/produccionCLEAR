"use strict";(self.webpackChunkcatalogo_unidades=self.webpackChunkcatalogo_unidades||[]).push([[913],{5607:function(e,a,t){t.r(a),t.d(a,{default:function(){return Z}});var n=t(7294),l=t(1555),o=t(682),s=t(4051),i=t(7104),r=t(3314),c=(t(9669),t(4700),t(1358)),u=t.n(c),m=t(3943),d=t(9357),g=t(9565),p=t(7039),v=t(2449),y=t.n(v),h=t(1388),k=t(5105),E=t(3984),f=t(1883);function Z(e){const{0:a,1:t}=(0,n.useState)(),{0:c,1:v}=(0,n.useState)(),{0:Z,1:N}=(0,n.useState)(!0),{0:C,1:x}=(0,n.useState)(1),{0:M,1:b}=(0,n.useState)(0),{0:S,1:O}=(0,n.useState)(0),{0:w,1:L}=(0,n.useState)(),{0:A,1:P}=(0,n.useState)([]),{0:D,1:R}=(0,n.useState)([]),{0:T,1:U}=(0,n.useState)([]),{0:V,1:B}=(0,n.useState)([]),{0:z,1:F}=(0,n.useState)([]),{0:_,1:I}=(0,n.useState)(!1),{0:K,1:W}=(0,n.useState)({anios:[],marcas:[],modelo:[],tipoUnidad:[]});var $=[],j=[],q=[],G=[],H=[];(0,n.useEffect)((()=>{!async function(){var a;const n=new URLSearchParams(null==e||null===(a=e.location)||void 0===a?void 0:a.search),l={type:n.get("type")?n.get("type"):"",year:n.get("year")?n.get("year"):"",unity:n.get("unity")?n.get("unity"):"",make:n.get("make")?""+n.get("make"):"nissan",price:n.get("price")?n.get("price"):"",search:n.get("search")?n.get("search"):""};n.get("type")&&n.get("type"),n.get("year")&&n.get("year"),n.get("unity")&&n.get("unity"),n.get("make")&&n.get("make"),n.get("price")&&n.get("price"),n.get("search")&&n.get("search");let o=[];console.log("optiones en nuevos: ",l,"opciones en seminuevos: ",l);const s=await ee(l);setTimeout((()=>{console.log("ArrayCarros: ",o);const e=null==s?void 0:s.map((e=>(null==e?void 0:e.nombre)||(null==e?void 0:e.model))),a=null==s?void 0:s.map((e=>(null==e?void 0:e.marca)||(null==e?void 0:e.make))),n=null==s?void 0:s.map((e=>null==e?void 0:e.year));let l=null==e?void 0:e.filter(((a,t)=>e.indexOf(a)===t)),i=null==a?void 0:a.filter(((e,t)=>a.indexOf(e)===t)),r=null==n?void 0:n.filter(((e,a)=>n.indexOf(e)===a));W({...K,modelo:l,marcas:i,anios:r}),N(!1),t(s)}),1e3)}()}),[]);const J=S+12,Q=null==a?void 0:a.slice(S,J),X=Math.ceil((null==a?void 0:a.length)/10),Y=(null==c||c.slice(S,J),Math.ceil((null==c?void 0:c.length)/10));const ee=async e=>{const a=await y().getNuevos(e).then((e=>{var a;const t=null==e||null===(a=e.data)||void 0===a?void 0:a.filter((e=>null!==e.image)),n=null==t?void 0:t.filter((e=>e.price>0));return null==n?void 0:n.map((e=>e.slug))}));let t=[];return await(null==a?void 0:a.map((async e=>{await y().getCarroVersions(e).then((e=>{for(var a=e.data.versions,n=0;n<a.length;n++)a[n].auto="Nuevos",a[n].galeria=e.data.gallery,a[n].color=e.data.colors[1].name,a[n].imagen=e.data.image,a[n].year=e.data.year,a[n].make=e.data.make,a[n].model=e.data.model,a[n].slug=e.data.slug,t.push(a[n])}))}))),t},ae=(0,n.useCallback)(((e,a)=>{"Tipo"===e?(-1===$.indexOf(a)?$.push(a):$.splice($.indexOf(a),1),P(A.concat($))):"Anio"===e?(-1===j.indexOf(a)?j.push(a):j.splice(j.indexOf(a),1),R(D.concat(j))):"Unidad"===e?(-1===H.indexOf(a)?H.push(a):H.splice(H.indexOf(a),1),U(T.concat(H))):"Marca"===e?(-1===q.indexOf(a)?q.push(a):q.splice(q.indexOf(a),1),B(V.concat(q))):"Modelo"===e&&(-1===G.indexOf(a)?G.push(a):G.splice(G.indexOf(a),1),F(z.concat(G)))}),[]);console.log("newCars: ",c);const te=()=>c?null==c?void 0:c.map(((e,a)=>n.createElement(l.Z,{lg:4},n.createElement(p.Z,{key:a,car:e})))):null==Q?void 0:Q.map(((e,a)=>n.createElement(l.Z,{lg:4},n.createElement(p.Z,{key:a,car:e}))));return n.createElement(m.Z,{props:e},n.createElement(d.Z,{title:"Rivero - Nissan Agencia Monterrey",description:" Rivero, Agencia Nissan Monterrey  March, Versa, V-Drive, Kicks, Trax - venta autos nuevos y seminuevos - Nissan Contry, Las Torres, Valle",keywords:"Rivero, Agencia Nissan Monterrey,agencia nissan, autos seminuevos, carro nuevo, carro nissan"}),n.createElement(o.Z,{fluid:!0,className:"pt-3"},n.createElement(s.Z,{className:"px-3"},n.createElement(l.Z,{lg:2,style:{backgroundColor:"#343a40"},className:"mb-4"},n.createElement(k.Z,{datosFiltros:K,Buscar:function(){console.log("Data Inventario: ",A,"Anio: ",D,"Unidad: ",T,"Marca: ",V,"Modelo: ",z,"Buscar: ",w),console.log("?"+(A.length>0?"inventario="+A+"&":"")+(D.length>0?"anio="+D+"&":"")+(T.length>0?"unidad="+T+"&":"")+(V.length>0?"marca="+V+"&":"")+(z.length>0?"modelo="+z+"&":"")+(w?"search="+w+"&":"")),(0,f.navigate)("?"+(A.length>0?"type="+A+"&":"")+(D.length>0?"year="+D+"&":"")+(T.length>0?"unity="+T+"&":"")+(V.length>0?"make="+V+"&":"")+(z.length>0?"search="+z+"&":"")+(w?"search="+w+"&":"")),setTimeout((()=>{window.location.reload(!1)}),500)},setSearch:L,onFilter:ae})),n.createElement(l.Z,{lg:10},n.createElement(o.Z,{className:"mb-2"},n.createElement(s.Z,null,n.createElement(l.Z,{className:"d-none d-lg-block"},n.createElement(i.Z,{variant:"outline-secondary",className:"mx-1",onClick:()=>I(!1)},n.createElement(E.MWB,{size:20})),n.createElement(i.Z,{variant:"outline-secondary",className:"mx-1",onClick:()=>I(!0)},n.createElement(E.r$D,{size:20}))),n.createElement(l.Z,{lg:3},n.createElement(r.Z.Select,{onChange:e=>{!function(e){console.log("tengo car: ",e.target.value);let t,n=e.target.value;t="p-Menor"===n?a.sort(((e,a)=>e.price-a.price)):"p-Mayor"===n?a.sort(((e,a)=>a.price-e.price)):a,v(t)}(e)}},n.createElement("option",{value:"0"},"Selecciona..."),n.createElement("option",{value:"p-Menor"},"Precio - Menor a Mayor"),n.createElement("option",{value:"p-Mayor"},"Precio - Mayor a Menor"))))),n.createElement(o.Z,{className:"d-none d-lg-block"},a?_?n.createElement(s.Z,null,te()):c?null==c?void 0:c.map(((e,a)=>n.createElement(g.Z,{key:a,car:e}))):null==Q?void 0:Q.map(((e,a)=>n.createElement(g.Z,{key:a,car:e}))):n.createElement(h.Z,null)),n.createElement(o.Z,{className:"d-xs-block d-sm-block d-md-block d-lg-none d-xl-none"},a?te():n.createElement(h.Z,null))))),n.createElement(o.Z,{fluid:!0,className:"paginationContainer pt-3"},n.createElement(u(),{nextLabel:"next >",onPageChange:e=>{const t=10*e.selected%(null==a?void 0:a.length);O(t)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:Y||X,previousLabel:"< previous",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})))}}}]);
//# sourceMappingURL=component---src-pages-nissan-js-f0c68d068a64b7a3fcbb.js.map